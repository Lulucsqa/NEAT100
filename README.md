# üß¨ NEAT Trading System v2.0

An advanced algorithmic trading system that combines **NEAT (NeuroEvolution of Augmenting Topologies)** with technical and fundamental analysis to create evolutionary and adaptive trading strategies.

## üåü Key Features

- **üß† NEAT Algorithm**: Neural network evolution with dynamic topology
- **üìä Technical Analysis**: 15+ technical indicators (MACD, ADX, Stochastic, CCI, MFI, ATR, etc.)
- **üì∞ Fundamental Analysis**: Economic data processing and news sentiment analysis
- **üîÑ Advanced Backtesting**: Complete system with comprehensive performance metrics
- **üìà Real-time Visualization**: Graphical interface for evolution tracking
- **üéØ Multi-Objective Optimization**: Simultaneous optimization of return, risk, and consistency
- **üöÄ Modular Architecture**: Clean separation of concerns with src/ organization
- **üß™ Comprehensive Testing**: Automated test suite with coverage reporting
- **‚ö° Performance Optimized**: Parallel processing and GPU acceleration support

## üèóÔ∏è System Architecture

```
src/
‚îú‚îÄ‚îÄ config/           # Centralized configuration
‚îÇ   ‚îî‚îÄ‚îÄ index.js     # Main config with NEAT, trading, and system settings
‚îú‚îÄ‚îÄ core/            # Core components
‚îÇ   ‚îú‚îÄ‚îÄ TradingEnvironment.js  # Main trading simulation environment
‚îÇ   ‚îú‚îÄ‚îÄ neat.js      # NEAT algorithm implementation
‚îÇ   ‚îî‚îÄ‚îÄ population.js # Population management
‚îú‚îÄ‚îÄ genetics/        # NEAT genetic algorithm
‚îÇ   ‚îú‚îÄ‚îÄ Genome.js    # Individual neural network genome
‚îÇ   ‚îú‚îÄ‚îÄ Population.js # Population evolution and management
‚îÇ   ‚îú‚îÄ‚îÄ Species.js   # Species classification
‚îÇ   ‚îú‚îÄ‚îÄ ConnectionGene.js # Connection gene structure
‚îÇ   ‚îú‚îÄ‚îÄ Node.js      # Neural network nodes
‚îÇ   ‚îî‚îÄ‚îÄ Player.js    # Individual trading agents
‚îú‚îÄ‚îÄ indicators/      # Technical analysis
‚îÇ   ‚îî‚îÄ‚îÄ TechnicalIndicators.js # 15+ technical indicators
‚îú‚îÄ‚îÄ analysis/        # Fundamental analysis
‚îÇ   ‚îî‚îÄ‚îÄ FundamentalAnalysis.js # Economic data processing
‚îú‚îÄ‚îÄ data/           # Data providers
‚îÇ   ‚îî‚îÄ‚îÄ DataProvider.js # Market data fetching and management
‚îú‚îÄ‚îÄ visualization/   # Real-time visualization
‚îÇ   ‚îú‚îÄ‚îÄ TradingVisualizer.js # Main visualization engine
‚îÇ   ‚îî‚îÄ‚îÄ visualizer.js # Additional visualization utilities
‚îî‚îÄ‚îÄ tests/          # Comprehensive test suite
    ‚îú‚îÄ‚îÄ run-all-tests.js # Test runner
    ‚îú‚îÄ‚îÄ TradingEnvironment.test.js # Environment tests
    ‚îî‚îÄ‚îÄ TechnicalIndicators.test.js # Indicator tests

Root Level:
‚îú‚îÄ‚îÄ BacktestEngine.js # Standalone backtesting engine
‚îú‚îÄ‚îÄ scripts/         # Utility scripts
‚îÇ   ‚îî‚îÄ‚îÄ run-backtest.js # Backtesting automation
‚îú‚îÄ‚îÄ libraries/       # Frontend libraries (p5.js, Box2D.js)
‚îî‚îÄ‚îÄ tests/          # Additional test files
```

## üöÄ Installation and Setup

### 1. Clone the Repository
```bash
git clone https://github.com/your-username/neat-trading-system.git
cd neat-trading-system
```

### 2. Install Dependencies
```bash
npm install
```

### 3. Configure APIs (Optional)
```bash
cp .env.example .env
# Edit .env with your API keys
```

### 4. Run the System
```bash
# Console mode (automatic evolution)
npm start

# Development mode (with hot reload)
npm run dev

# Web interface
npm run web

# Development web server
npm run web:dev
```

### 5. System Requirements
- **Node.js**: >= 16.0.0
- **Memory**: Minimum 4GB RAM (8GB+ recommended for large populations)
- **Storage**: 1GB+ for historical data and logs

## üìä Technical Indicators Implemented

### Trend Indicators
- **MACD** (Moving Average Convergence Divergence) - Signal, histogram, and crossovers
- **ADX** (Average Directional Index) - Trend strength with +DI/-DI
- **EMA** (Exponential Moving Average) - Multiple periods supported

### Momentum Indicators
- **Stochastic Oscillator** - %K and %D with customizable smoothing
- **CCI** (Commodity Channel Index) - Overbought/oversold detection
- **RSI** (Relative Strength Index) - Momentum oscillator

### Volume Indicators
- **OBV** (On-Balance Volume) - Volume-price trend analysis
- **MFI** (Money Flow Index) - Volume-weighted RSI

### Volatility Indicators
- **ATR** (Average True Range) - Volatility measurement
- **Keltner Channels** - Volatility-based bands
- **Bollinger Bands** - Statistical price channels

### Pattern Recognition
- **Double Top/Bottom** - Reversal pattern detection
- **Head and Shoulders** - Classic reversal patterns
- **Triangle Patterns** - Continuation/reversal formations
- **Market Regime Detection** - Trend/range/volatile state identification

### Custom Indicators
- **Price Pattern Analysis** - Advanced pattern recognition
- **Market Regime Classification** - Multi-factor regime detection
- **Linear Regression** - Trend analysis and slope calculation

## üß¨ NEAT Configuration

```javascript
// src/config/index.js
neat: {
    populationSize: 150,
    inputs: 20,  // Technical indicators + fundamental data
    outputs: 3,  // Buy, Sell, Hold
    mutationRates: {
        weight: 0.1,
        connection: 0.05,
        node: 0.02,
        enable: 0.1,
        disable: 0.1
    },
    speciation: {
        compatibilityThreshold: 3.0,
        excessCoeff: 1.0,
        disjointCoeff: 1.0,
        weightDiffCoeff: 0.4
    }
}
```

## üíπ Trading Configuration

```javascript
trading: {
    symbols: ['EURUSD', 'GBPUSD', 'USDJPY', 'AUDUSD'],
    timeframes: ['5m', '15m', '1h', '4h'],
    riskManagement: {
        maxRiskPerTrade: 0.02,
        maxDrawdown: 0.15,
        positionSizing: 'kelly'
    },
    backtesting: {
        startDate: '2020-01-01',
        endDate: '2024-01-01',
        initialBalance: 10000,
        commission: 0.0001
    }
}
```

## üì° Data Configuration

```javascript
data: {
    providers: {
        forex: 'alpha_vantage',
        news: 'newsapi',
        economic: 'fred'
    },
    apiKeys: {
        alphaVantage: process.env.ALPHA_VANTAGE_KEY,
        newsApi: process.env.NEWS_API_KEY,
        fred: process.env.FRED_API_KEY
    },
    updateIntervals: {
        prices: 60000,      // 1 minute
        news: 300000,       // 5 minutes
        economic: 3600000   // 1 hour
    }
}
```

## üß™ Testing

```bash
# Run all tests
npm test

# Specific test suites
npm run test:trading
npm run test:indicators

# Code quality
npm run lint
npm run format

# Build for production
npm run build
```

### Test Coverage
The system includes comprehensive tests for:
- **Trading Environment**: Market simulation and state management
- **Technical Indicators**: All 15+ indicators with edge cases
- **NEAT Algorithm**: Genome evolution and population dynamics
- **Backtesting Engine**: Performance metrics and trade execution
- **Data Providers**: API integration and synthetic data generation

## üìà Backtesting

```bash
# Simple backtest
npm run backtest

# Specific backtest
node scripts/run-backtest.js EURUSD 5m 2023-01-01 2023-12-31

# Multiple backtests with export
npm run backtest -- --export

# Performance analysis
npm run analyze

# Parameter optimization
npm run optimize
```

### Example Results
```
ÔøΩ  Backtest Results:
   ÔøΩ Ionitial Balance: $10,000.00
   üí∞ Final Balance: $12,450.00
   üìà Total Return: 24.50%
   üéØ Win Rate: 67.3%
   üìâ Max Drawdown: 8.2%
   üìä Sharpe Ratio: 1.847
   üîÑ Total Trades: 156
```

### Advanced Backtesting Features
- **Multi-Symbol Testing**: Test across multiple currency pairs simultaneously
- **Multi-Timeframe Analysis**: Compare performance across different timeframes
- **Walk-Forward Optimization**: Progressive parameter optimization
- **Monte Carlo Simulation**: Statistical robustness testing
- **Performance Attribution**: Detailed trade-by-trade analysis

## üéØ Fun√ß√£o de Fitness Multi-Objetivo

O sistema otimiza simultaneamente:

1. **Retorno Total** (peso: 40%)
2. **Taxa de Acerto** (peso: 25%)
3. **Sharpe Ratio** (peso: 20%)
4. **Drawdown M√°ximo** (peso: 15%)

```javascript
fitness = (totalReturn * 100) + 
          (winRate > 0.5 ? (winRate - 0.5) * 50 : 0) +
          (sharpeRatio * 10) -
          (maxDrawdown > 0.1 ? (maxDrawdown - 0.1) * 100 : 0)
```

## üìä Visualiza√ß√£o

O sistema inclui visualiza√ß√£o em tempo real com:

- **Gr√°fico de Pre√ßos**: Candlesticks com indicadores
- **Painel de Indicadores**: MACD, ADX, Stochastic
- **Informa√ß√µes da Conta**: Balance, posi√ß√µes, trades
- **Curva de Equity**: Performance ao longo do tempo
- **Distribui√ß√£o P&L**: Histograma de lucros/perdas

## üîß Scripts Utilit√°rios

```bash
# An√°lise de performance
npm run analyze

# Otimiza√ß√£o de par√¢metros
npm run optimize

# Linting e formata√ß√£o
npm run lint
npm run format

# Build para produ√ß√£o
npm run build
```

## üì° Fontes de Dados

### APIs Suportadas
- **Alpha Vantage**: Dados de pre√ßos forex
- **News API**: Not√≠cias financeiras
- **FRED**: Dados econ√¥micos do Federal Reserve

### Dados Sint√©ticos
O sistema gera dados sint√©ticos quando APIs n√£o est√£o dispon√≠veis, permitindo desenvolvimento e testes offline.

## üéÆ Uso Program√°tico

```javascript
const NEATTradingSystem = require('./src/index.js');

const system = new NEATTradingSystem({
    neat: { populationSize: 100 },
    trading: { symbols: ['EURUSD'] }
});

await system.initialize();
const bestAgent = await system.runEvolution();

console.log('Best agent performance:', bestAgent.performance);
```

## üî¨ An√°lise Fundamentalista

O sistema processa:

- **Dados Econ√¥micos**: PIB, infla√ß√£o, emprego, taxas de juros
- **Calend√°rio Econ√¥mico**: Eventos futuros e impactos
- **An√°lise de Sentimento**: Processamento de not√≠cias
- **Diferenciais de Moedas**: Compara√ß√£o entre pa√≠ses

## üõ°Ô∏è Gerenciamento de Risco

- **Position Sizing**: Kelly Criterion ou fixed fractional
- **Stop Loss**: Baseado em ATR ou percentual
- **Drawdown Control**: Parada autom√°tica em perdas excessivas
- **Diversifica√ß√£o**: M√∫ltiplos pares e timeframes

## üöÄ Roadmap

- [ ] **Deep Learning Integration**: Modelos LSTM/Transformer
- [ ] **Real-time Trading**: Conex√£o com brokers
- [ ] **Portfolio Management**: Otimiza√ß√£o multi-ativo
- [ ] **Cloud Deployment**: Execu√ß√£o em AWS/GCP
- [ ] **Mobile App**: Interface mobile
- [ ] **Social Trading**: Compartilhamento de estrat√©gias

## ü§ù Contribuindo

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a MIT License - veja o arquivo [LICENSE](LICENSE) para detalhes.

## üôè Agradecimentos

- **Kenneth Stanley**: Criador do algoritmo NEAT
- **Comunidade QuantConnect**: Inspira√ß√£o em trading algor√≠tmico
- **TradingView**: Refer√™ncia em an√°lise t√©cnica

## üìû Suporte

- üìß Email: support@neat-trading.com
- üí¨ Discord: [NEAT Trading Community](https://discord.gg/neat-trading)
- üìñ Wiki: [Documenta√ß√£o Completa](https://github.com/your-username/neat-trading-system/wiki)

---

**‚ö†Ô∏è Aviso Legal**: Este sistema √© para fins educacionais e de pesquisa. Trading envolve riscos significativos. Sempre teste estrat√©gias em ambiente simulado antes de usar capital real.
